

  import {html, render,svg} from 'https://unpkg.com/lit-html@0.7.1/lit-html.js';
  import { repeat } from 'https://unpkg.com/lit-html@0.7.1/lib/repeat.js';
 
 
 
/* function getRandomColor() {
  let letters = ['0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'];
  let rt=['1','2','3','4','5','6'];
  let rc=rt.map( ()=>letters[Math.floor(Math.random() * 16)]);
  return `#${rc.join("")}`;
}*/

 
function getRandomColor() {
    let r= Math.floor(Math.random()*0xFFFFFF);
    return `rgb(${r&0xFF},${(r>>8)&0xFF},${(r>>16)&0xFF})`;
}



alert ("If you get white screen, please upgrade your webview from the Play store\n\nhttps://play.google.com/store/apps/details?id=com.google.android.webview");
  let mode="day";
  const col = document.querySelector('.perspective');
  const svgOp =1;
  const svgType=  [{filter:"", c:"102, 153, 153,0.9"},
                   {filter:"",c:"102, 153, 153,0.9"}];
  const marbleType=[
                  {c:"red",   op:"0.8" , dur:"10s"},
                  {c:"green", op:"0.9" , dur:"11s"},
                  {c:"blue",  op:"0.8" , dur:"12s"},
                  {c:"red",   op:"0.7" , dur:"13s"},
                  {c:"green", op:"0.9" , dur:"14s"},
                  {c:"red",   op:"0.8" , dur:"15s"},
                  {c:"green", op:"0.9" , dur:"16s"},
                  {c:"blue",  op:"0.8" , dur:"17s"},
                  {c:"red",   op:"0.7" , dur:"18s"},
                  {c:"green", op:"0.9" , dur:"19s"},
                  {c:"red",   op:"0.8" , dur:"20s"},
                  {c:"green", op:"0.9" , dur:"21s"},
                  {c:"blue",  op:"0.8" , dur:"22s"},
                  {c:"red",   op:"0.7" , dur:"23s"},
                  {c:"green", op:"0.9" , dur:"24s"},
                  {c:"red",   op:"0.8" , dur:"25s"},
                  {c:"green", op:"0.9" , dur:"26s"},
                  {c:"blue",  op:"0.8" , dur:"27s"},
                  {c:"red",   op:"0.7" , dur:"28s"},
                  {c:"green", op:"0.9" , dur:"29s"},
                  {c:"red",   op:"0.8" , dur:"30s"},
                  {c:"green", op:"0.9" , dur:"31s"},
                  {c:"blue",  op:"0.8" , dur:"32s"},
                  {c:"red",   op:"0.7" , dur:"33s"},
                  {c:"green", op:"0.9" , dur:"34s"},
                  {c:"red",   op:"0.8" , dur:"35s"},
                  {c:"green", op:"0.9" , dur:"36s"},
                  {c:"blue",  op:"0.8" , dur:"37s"},
                  {c:"red",   op:"0.7" , dur:"38s"},
                  {c:"green", op:"0.9" , dur:"39s"},
                 ];
  
const marbles = (marbleType) => svg`

    <svg viewBox="0 0 500 500" width="100%" height="500">
   <defs>
     <filter id="glow" >
       <feGaussianBlur stdDeviation="10 10" result="glow"/>
        <feMerge>
        <feMergeNode in="glow"/>
        <feMergeNode in="glow"/>
        <feMergeNode in="glow"/>
        </feMerge>
      </filter>
   </defs>
    ${repeat(svgType, (el) => el.id, (el, index) => svg`
    <path d="M 39.615 280.313 C 39.793 279.129 42.85 277.641 48.76 275.859 C 54.587 273.989 61.862 271.826 70.597 269.37 C 79.332 266.915 89.022 264.027 99.668 260.718 C 110.409 257.41 120.727 253.682 130.649 249.522 C 140.571 245.361 149.443 240.743 157.263 235.653 C 165.179 230.653 170.952 225.055 174.596 218.858 C 174.596 215.639 172.235 213.133 167.499 211.351 C 162.859 209.57 156.676 208.081 148.938 206.898 C 141.295 205.715 132.56 204.735 122.733 203.972 C 112.906 203.119 102.848 202.025 92.571 200.664 C 82.198 199.226 72.098 197.445 62.271 195.32 C 52.445 193.119 43.71 190.065 36.067 186.159 C 28.424 182.342 22.241 177.469 17.505 171.527 C 12.769 165.674 10.408 158.384 10.408 149.643 C 10.408 141.08 12.496 132.377 16.686 123.56 C 20.876 114.742 26.377 106.128 33.201 97.731 C 40.025 89.423 47.845 81.572 56.676 74.192 C 65.506 66.813 74.732 60.362 84.382 54.853 C 93.935 49.254 103.394 44.89 112.77 41.748 C 122.228 38.529 131.018 36.913 139.111 36.913 C 141.199 36.913 143.437 36.875 145.799 36.786 C 148.16 36.696 150.262 36.875 152.077 37.294 C 153.892 37.638 155.352 38.44 156.444 39.712 C 157.632 41.073 158.219 43.02 158.219 45.565 C 158.219 51.926 155.994 56.507 151.531 59.306 C 147.068 62.105 141.663 63.505 135.289 63.505 L 121.505 59.306 C 116.141 59.306 110.081 60.744 103.353 63.632 C 96.706 66.52 89.977 70.375 83.153 75.21 C 76.329 80.134 69.641 85.733 63.09 92.005 C 56.635 98.202 50.848 104.64 45.757 111.345 C 40.748 117.961 36.708 124.616 33.61 131.321 C 30.512 137.937 28.97 143.955 28.97 149.388 C 28.97 156.093 31.331 161.603 36.067 165.929 C 40.803 170.165 46.985 173.601 54.628 176.235 C 62.271 178.779 71.047 180.688 80.969 181.96 C 90.892 183.322 100.991 184.467 111.269 185.396 C 121.464 186.413 131.509 187.52 141.431 188.704 C 151.353 189.887 160.17 191.541 167.909 193.666 C 175.552 195.702 181.734 198.59 186.47 202.318 C 191.111 205.969 193.431 210.881 193.431 217.077 C 193.431 223.019 190.879 228.948 185.788 234.89 C 180.697 240.908 173.955 246.634 165.589 252.066 C 157.304 257.576 147.75 262.665 136.927 267.335 C 126.186 272.004 115.404 275.948 104.581 279.167 C 93.662 282.476 83.017 285.02 72.644 286.801 C 62.367 288.583 53.496 289.384 46.03 289.219 C 43.846 289.219 42.031 288.545 40.571 287.183 C 39.028 285.745 38.701 283.455 39.615 280.313 Z M 246.878 288.074 C 238.334 287.056 231.319 283.875 225.859 278.531 C 220.496 273.098 216.169 266.533 212.893 258.81 C 209.713 251.087 207.666 242.613 206.752 233.363 C 205.756 224.113 205.482 215.003 205.933 206.008 C 206.574 192.266 209.304 179.161 214.122 166.692 C 218.858 154.134 224.822 143.243 232.001 133.993 C 239.098 124.743 246.973 117.579 255.613 112.49 C 264.266 107.49 272.768 105.581 281.135 106.765 C 289.87 107.948 296.926 111.816 302.29 118.343 C 307.749 124.87 311.98 132.937 314.982 142.517 C 317.985 152.022 319.814 162.404 320.442 173.69 C 321.083 184.887 320.988 195.663 320.169 206.008 C 319.077 217.713 316.306 228.655 311.843 238.834 C 307.299 248.924 301.703 257.665 295.056 265.044 C 288.327 272.424 280.725 278.15 272.263 282.221 C 263.897 286.293 255.435 288.239 246.878 288.074 Z M 277.859 123.687 C 270.858 122.923 264.306 124.959 258.206 129.794 C 252.118 134.718 246.7 141.207 241.964 149.261 C 237.146 157.315 233.147 166.438 229.954 176.616 C 226.678 186.884 224.549 196.974 223.539 206.898 C 222.638 214.023 222.311 221.403 222.584 229.037 C 222.775 236.582 223.771 243.415 225.586 249.522 C 227.415 255.718 230.281 260.757 234.185 264.663 C 238.197 268.48 243.466 270.388 250.017 270.388 C 255.394 270.643 260.99 268.95 266.804 265.299 C 272.727 261.736 278.228 256.939 283.318 250.921 C 288.423 244.814 292.968 237.905 296.967 230.182 C 300.884 222.459 303.477 214.494 304.746 206.262 C 306.207 197.775 306.575 188.996 305.838 179.924 C 305.115 170.853 303.518 162.455 301.061 154.732 C 298.604 147.009 295.424 140.316 291.507 134.629 C 287.508 128.942 282.964 125.303 277.859 123.687 Z M 337.693 285.656 L 337.011 40.475 C 338.294 39.712 339.658 38.859 341.105 37.931 C 342.47 37.078 343.889 36.493 345.336 36.149 C 346.892 35.895 348.257 36.06 349.431 36.658 C 350.618 37.256 351.614 38.529 352.433 40.475 L 354.344 286.547 C 353.252 288.494 351.846 289.855 350.113 290.619 C 348.475 291.293 346.797 291.471 345.063 291.127 C 343.343 290.873 341.788 290.237 340.423 289.219 C 339.058 288.201 338.157 287.018 337.693 285.656 Z M 412.581 288.074 C 404.024 287.056 397.022 283.875 391.563 278.531 C 386.199 273.098 381.872 266.533 378.597 258.81 C 375.417 251.087 373.37 242.613 372.455 233.363 C 371.459 224.113 371.186 215.003 371.636 206.008 C 372.278 192.266 375.007 179.161 379.825 166.692 C 384.561 154.134 390.512 143.243 397.704 133.993 C 404.802 124.743 412.677 117.579 421.316 112.49 C 429.955 107.49 438.472 105.581 446.838 106.765 C 455.573 107.948 462.629 111.816 467.993 118.343 C 473.452 124.87 477.683 132.937 480.686 142.517 C 483.688 152.022 485.504 162.404 486.145 173.69 C 486.786 184.887 486.691 195.663 485.872 206.008 C 484.78 217.713 482.01 228.655 477.547 238.834 C 473.002 248.924 467.406 257.665 460.759 265.044 C 454.031 272.424 446.429 278.15 437.967 282.221 C 429.6 286.293 421.138 288.239 412.581 288.074 Z M 443.563 123.687 C 436.561 122.923 430.01 124.959 423.909 129.794 C 417.808 134.718 412.404 141.207 407.668 149.261 C 402.85 157.315 398.837 166.438 395.657 176.616 C 392.382 186.884 390.239 196.974 389.243 206.898 C 388.328 214.023 388.014 221.403 388.287 229.037 C 388.465 236.582 389.475 243.415 391.29 249.522 C 393.105 255.718 395.971 260.757 399.888 264.663 C 403.887 268.48 409.169 270.388 415.72 270.388 C 421.084 270.643 426.68 268.95 432.507 265.299 C 438.417 261.736 443.931 256.939 449.022 250.921 C 454.113 244.814 458.671 237.905 462.67 230.182 C 466.587 222.459 469.18 214.494 470.45 206.262 C 471.91 197.775 472.265 188.996 471.542 179.924 C 470.818 170.853 469.221 162.455 466.765 154.732 C 464.308 147.009 461.128 140.316 457.211 134.629 C 453.212 128.942 448.653 125.303 443.563 123.687 Z" style="fill: rgba(${el.c});  ${el.filter}" id="path" ></path>
        `)}
  
      ${repeat(marbleType, (el) => el.id, (el, index) => svg`
        <circle cx="1" cy="1" r="5" style="fill:${getRandomColor()}; opacity:${el.op};">
          <animateMotion dur=${el.dur} repeatCount="indefinite">
          <mpath xlink:href="#path"/>
          </animateMotion>
        </circle>
       `)}
      </svg>
      `;

     render(marbles(marbleType), col);
     
     const paths = document.querySelectorAll("path");
     const imageDiv=document.querySelector(".image-container");
     
     function setDay(){
        paths[0].style.filter="";
        paths[0].style.fill="rgba(102, 153, 153,0.9)";
        paths[0].style.filter="";
        paths[1].style.fill="rgba(102, 153, 153,0.9)";
        imageDiv.style.opacity="0.0";
     }
     
     function setNight(){
         paths[0].style.filter="url(#glow)";
         paths[0].style.fill="rgba(255,0,102,0.9)";
         paths[1].style.filter="";
         paths[1].style.fill="rgba(255,0,102,0.9)";
         imageDiv.style.opacity="1";
     }
     
     
     document.querySelector('svg').addEventListener('click', function (evt) {
       if (mode==="day") { setNight();
                           mode="night";
       }
       else {setDay();
            mode="day";
       }
      });

//stop the loading spinner

 var spinner = document.getElementById("loading");
    spinner.style.display= "none";

//</script>